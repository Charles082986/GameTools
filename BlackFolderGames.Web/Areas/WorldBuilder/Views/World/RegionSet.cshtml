@using WorldBuilder.Data;
@model RegionSet
@{
    ViewData["Title"] = "RegionSet";
    bool canEdit = (bool)ViewBag.CanEdit;
}


<h2>@Model.Name</h2>
<p class="text-muted">Last Edit: @Model.LastEdit.ToString("D")</p>
@if (canEdit)
{
    <a href="/WorldBuilder/World/Edit?regionSetId=@Model.RegionSetId" class="btn btn-primary" style="clear:both;"><span class="glyphicon glyphicon-edit"></span>Edit</a>
}

<div class="row" style="margin-top:5vh">
    <div class="col-md-6" style="clear:left">
        <p>@Model.Description</p>
    </div>
    <div class="col-md-6" style="border:1px solid black">
        <a class="text-muted" href="@Model.ImageURL">@Model.ImageURL</a>
        <img class="img-responsive full-width" src="@Model.ImageURL" />
    </div>
</div>
<div class="row">
    <ul class="nav nav-tabs card-header tabs" id="regionCategoryTabs" role="tablist">
        <li class="nav-item active">
            <a class="navbar-link" id="topLevelRegions-tab" data-toggle="tab" role="tab" href="#topLevelRegions">Top-Level Regions (<span id="topLevelRegions-count">0</span>)</a>
        </li>
        <li class="nav-item">
            <a class="navbar-link" id="topLevelPOIs-tab" data-toggle="tab" role="tab" href="#topLevelPOIs">Top-Level POIs (<span id="topLevelPOIs-count">0</span>)</a>
        </li>
        <li class="nav-item">
            <a class="navbar-link" id="orphanedRegions-tab" data-toggle="tab" role="tab" href="#orphanedRegions">Orphaned Regions (<span id="orphanedRegions-count">0</span>)</a>
        </li>
        <li class="nav-item">
            <a class="navbar-link" id="orphanedPOIs-tab" data-toggle="tab" role="tab" href="#orphanedPOIs">Orphaned POIs (<span id="orphanedPOIs-count">0</span>)</a>
        </li>
    </ul>
    <div class="tab-content col-md-12 clearfix" id="regionCategoryTabsContent">
        <div class="tab-pane fade active in" id="topLevelRegions" role="tabpanel"></div>
        <div class="tab-pane fade" id="topLevelPOIs" role="tabpanel"></div>
        <div class="tab-pane fade" id="orphanedRegions" role="tabpanel"></div>
        <div class="tab-pane fade" id="orphanedPOIs" role="tabpanel"></div>
    </div>
</div>

@section Scripts
{
    <script src="~/js/DynamicImageSource.js" type="text/javascript"></script>
    <script type="text/javascript" src="/js/BootstrapCardBuilder.js"></script>
    <script type="text/javascript" src="/js/WoldBuilderTabLoader.js"></script>
    <script type="text/javascript" src="/js/SearchBox.js"></script>
    <script>
        let searchBox = new SearchBox('#search', 1000,fetchRegionData);
    </script>
}

